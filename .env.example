# Example environment file for the cinema seat reservation service.
# Copy or rename this file to `.env` and fill in secrets and credentials.
# IPv4 (127.0.0.1) is used instead of `localhost` to avoid Windows resolving to ::1 (IPv6).

# -----------------------------------------------------------------------------
# Application configuration
APP_ENV=dev
APP_PORT=8080

# -----------------------------------------------------------------------------
# MySQL database configuration
DB_USER=your_db_user
DB_PASS=your_db_password
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=cinema

# -----------------------------------------------------------------------------
# Auth / security
JWT_SECRET=please-change-me-to-a-long-random-string
ACCESS_TOKEN_TTL_MIN=15
REFRESH_TOKEN_TTL_DAYS=7
BCRYPT_COST=12

# -----------------------------------------------------------------------------
# Redis configuration
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_TLS=false

# -----------------------------------------------------------------------------
# Rate limiting
RATE_LIMIT_BUCKET_CAPACITY=60
RATE_LIMIT_REFILL_TOKENS=3
RATE_LIMIT_REFILL_INTERVAL=5s
RATE_LIMIT_KEY_STRATEGY=ip_user
RATE_LIMIT_ENTRY_TTL=15m

# -----------------------------------------------------------------------------
# RabbitMQ configuration
# If your app and RabbitMQ run in docker-compose, use the service name instead:
#   RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
RABBITMQ_URL=amqp://guest:guest@127.0.0.1:5672/

# -----------------------------------------------------------------------------
# HTTP response caching configuration
CACHE_ENABLED=true
CACHE_METHODS=GET
CACHE_TTL=30s
CACHE_KEY_STRATEGY=route_query
CACHE_PREFIX=cache
CACHE_MAX_BODY_BYTES=1048576
